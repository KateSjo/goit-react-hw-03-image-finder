(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1-qyu","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__3E6mH"}},13:function(e,t,n){e.exports={"Button-wrapper":"Button_Button-wrapper__3deOG",Button:"Button_Button__2pq1F"}},14:function(e,t,n){e.exports={Overlay:"Modal_Overlay__3dkJl",Modal:"Modal_Modal__z5Czs"}},26:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__-KnkJ"}},27:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__2pJFp"}},29:function(e,t,n){e.exports={Loader:"Loader_Loader__2EOp3"}},30:function(e,t,n){e.exports={Message:"Message_Message__1EJTG"}},31:function(e,t,n){e.exports={IconButton:"IconButton_IconButton__2_2Xd"}},7:function(e,t,n){e.exports={SearchForm:"SearchForm_SearchForm__1R_Aw","SearchForm-button":"SearchForm_SearchForm-button__2WPrm","SearchForm-button-label":"SearchForm_SearchForm-button-label__fzWSa","SearchForm-input":"SearchForm_SearchForm-input__2VqmO"}},78:function(e,t,n){e.exports={App:"App_App__2rkNM"}},79:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(8),o=n.n(c),l=n(5),s=n.n(l),i=n(16),u=n(10),b=n(4),h=n(7),m=n.n(h),j=n(0),p=function(e){var t=e.onSearch,n=Object(r.useState)(""),a=Object(b.a)(n,2),c=a[0],o=a[1],l=function(){return o("")};return Object(j.jsxs)("form",{className:m.a.SearchForm,onSubmit:function(e){e.preventDefault(),c.trim()&&(t(c),l())},children:[Object(j.jsx)("button",{type:"submit",className:m.a["SearchForm-button"],children:Object(j.jsx)("span",{className:m.a["SearchForm-button-label"],children:"Search"})}),Object(j.jsx)("input",{className:m.a["SearchForm-input"],type:"text",name:"query",value:c,onChange:function(e){var t=e.currentTarget.value;o(t)},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})},d=n(26),f=n.n(d),O=function(e){var t=e.onSearch;return Object(j.jsx)("header",{className:f.a.Searchbar,children:Object(j.jsx)(p,{onSearch:t})})},g=n(12),x=n.n(g),v=function(e){var t=e.image,n=e.onImageClick;return Object(j.jsx)("li",{className:x.a.ImageGalleryItem,children:Object(j.jsx)("img",{src:t.webformatURL,alt:t.tags,className:x.a["ImageGalleryItem-image"],onClick:function(){return n(t.largeImageURL)}})})};v.defaultProps={tags:""};var _=v,y=n(27),S=n.n(y),w=function(e){var t=e.images,n=e.onImageClick;return Object(j.jsx)("ul",{className:S.a.ImageGallery,children:t.map((function(e){return Object(j.jsx)(_,{image:e,onImageClick:n},e.id)}))})},I=n(13),k=n.n(I),C=function(e){var t=e.onClick;return Object(j.jsx)("div",{className:k.a["Button-wrapper"],children:Object(j.jsx)("button",{type:"button",className:k.a.Button,onClick:t,children:"Load more"})})},F=n(28),N=n.n(F),B=n(29),E=n.n(B),G=function(){return Object(j.jsx)("div",{className:E.a.Loader,children:Object(j.jsx)(N.a,{type:"ThreeDots",color:"#3f51b5",height:100,width:100})})},L=n(30),M=n.n(L),P=function(e){var t=e.children;return Object(j.jsx)("div",{className:M.a.Message,children:t})};P.defaultProps={children:[]};var q=P,J=n(14),T=n.n(J),z=document.querySelector("#modal-root"),A=function(e){var t=e.children,n=e.onClose;Object(r.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(e){"Escape"===e.code&&n()};return Object(c.createPortal)(Object(j.jsx)("div",{className:T.a.Overlay,onClick:function(e){e.currentTarget===e.target&&n()},children:Object(j.jsx)("div",{className:T.a.Modal,children:t})}),z)};A.defaultProps={children:null};var R=A,U=n(17),D=n(32),H=n(31),W=n.n(H),K=["children","onClick"],V=function(e){var t=e.children,n=e.onClick,r=Object(D.a)(e,K);return Object(j.jsx)("button",Object(U.a)(Object(U.a)({type:"button",className:W.a.IconButton,onClick:n},r),{},{children:t}))};V.defaultProps={onClick:function(){return null},children:null};var X,Q=V,Y=["title","titleId"];function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ee(e,t){var n=e.title,a=e.titleId,c=$(e,Y);return r.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 41.756 41.756",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,X||(X=r.createElement("path",{d:"M27.948 20.878L40.291 8.536a5 5 0 10-7.07-7.071L20.878 13.809 8.535 1.465a5 5 0 00-7.07 7.071l12.342 12.342L1.465 33.22a5 5 0 107.07 7.071l12.343-12.342 12.343 12.343c.976.977 2.256 1.464 3.535 1.464s2.56-.487 3.535-1.464a5 5 0 000-7.071L27.948 20.878z"})))}var te=r.forwardRef(ee),ne=(n.p,n(15)),re=n.n(ne);re.a.defaults.baseURL="https://pixabay.com/api";var ae=function(){var e=Object(u.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/?q=".concat(t,"&page=").concat(n,"&key=").concat("21255854-31bcf5c415a33cbe729d04b4b","&image_type=photo&orientation=horizontal&per_page=12"));case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(1),o=Object(b.a)(c,2),l=o[0],h=o[1],m=Object(r.useState)(""),p=Object(b.a)(m,2),d=p[0],f=p[1],g=Object(r.useState)(!1),x=Object(b.a)(g,2),v=x[0],_=x[1],y=Object(r.useState)(!1),S=Object(b.a)(y,2),I=S[0],k=S[1],F=Object(r.useState)(""),N=Object(b.a)(F,2),B=N[0],E=N[1],L=Object(r.useState)(null),M=Object(b.a)(L,2),P=M[0],J=M[1];Object(r.useEffect)((function(){d&&T()}),[d]);var T=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,e.next=4,ae(d,l);case 4:t=e.sent,n=t.hits,a((function(e){return[].concat(Object(i.a)(e),Object(i.a)(n))})),h((function(e){return e+1})),1!==l&&A(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Smth wrong with App fetch",e.t0),J({error:e.t0});case 15:return e.prev=15,_(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})));return function(){return e.apply(this,arguments)}}(),z=function(){k((function(e){return!e}))},A=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},U=n.length>0&&n.length>=12;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(O,{onSearch:function(e){a([]),h(1),f(e),_(!1),k(!1),E(""),J(null)}}),n.length<1&&!v&&!P&&Object(j.jsxs)(q,{children:[Object(j.jsx)("h2",{children:"The gallery is empty"}),Object(j.jsx)("p",{children:"Use search!"})]}),Object(j.jsx)(w,{images:n,onImageClick:function(e){E(e),k(!0)}}),U&&Object(j.jsx)(C,{onClick:T}),I&&Object(j.jsxs)(R,{onClose:z,children:[Object(j.jsx)("div",{className:"Close-box",children:Object(j.jsx)(Q,{onClick:z,"aria-label":"Close modal",children:Object(j.jsx)(te,{width:"20px",height:"20px",fill:"#7e7b7b"})})}),Object(j.jsx)("img",{src:B,alt:"",className:"Modal-image"})]}),v&&Object(j.jsx)(G,{}),P&&Object(j.jsxs)(q,{children:[Object(j.jsx)("h2",{children:"Oops!"}),Object(j.jsxs)("p",{children:["Something go wrong. Please try again, or"," ",Object(j.jsx)("a",{href:"/",children:"refresh the page"}),"."]})]})]})};n(77),n(78);o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(ce,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.0fc91f8f.chunk.js.map